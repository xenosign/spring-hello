# IoC 그리고 컨테이너, DI

## IoC(Inversion of Control)

- 기존에는 개발자가 직접 원하는 방향으로 프로그램을 만들고 제어했다
- 하지만 AppConfig 가 적용되면 구현 객체는 자신의 로직만을 실행하고, 실제적인 제어의 흐름은 AppConfig 가 가져간다
- 즉, 구현 객체는 그냥 하던 로직만을 실행하고 실제적인 제어 자체의 흐름은 AppConfig 에 선언된 구현체가 주입되어 외부에서 관리하는 것을 제어의 역전이라 한다

## 프레임워크 vs 라이브러리

- 프레임워크 : 프레임워크가 내가 작성한 코드를 제어하고, 대신 실행
- 라이브러리 : 내가 작성한 코드를 내가 직접 제어하고 흐름을 결정

## DI(Dependency Injection)

- 의존 관계는 정적인 클래스 의존 관계와 실행 시점에 결정되는 동적인 인스턴 의존 관계 둘을 분리해서 생각해야 한다

### 정적인 클래스 의존 관계

- 클래스 끼리의 의존 관계를 실행 이전에 결정이 나므로, import 만 보고 의존 관계 파악이 가능하다
- 하지만 클래스 의존 관계 만으로는 실제 어떤 인스턴스가 주입 될지는 판단이 불가

### 동적인 객체 인스턴스 의존 관계

- 실행 시점에 외부에서 실제 구현 인스턴스를 생성하고 클라이언트에 전달해서 실제적 의존 관계가 연결되는 것을 DI(의존 관계 주입)이라고 한다
- DI 를 사용하면 클라이언트 코드 변경 없이 호출하는 인스턴스 교체가 가능
- 따라서 DI 사용의 장점은 정적 클래싀 의존 관계를 변경 하지 않고, 동적 의존 관계만 변경이 가능하다는 것

## IoC, DI 컨테이너

- AppConfig 와 같이 객체를 생성하고 의존 관계를 연결해 주는 컨테이너
